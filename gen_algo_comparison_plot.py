import numpy as np
import matplotlib.pyplot as plt

time_op = {
    4: [0.0794104979995609, 0.07281088000036107, 0.07584242499979155, 0.07342227000026469, 0.0736224950005635, 0.0741756629995507, 0.07437318800020876, 0.07261611300054938, 0.07251179899958515, 0.07219336300022405, 0.07368515400048636, 0.07266252800036455, 0.07294503699995403, 0.07380357800047932, 0.11486801499995636, 0.08101476400042884, 0.07431358200028626, 0.07562939499985077, 0.07429422899986093, 0.07264071999998123, 0.07289477299946157, 0.07333251000000018, 0.07335526800034131, 0.07453319100022782, 0.08229328599918517, 0.07610381299946312],
    6: [0.14968415900057153, 0.14018509499965148, 0.14187482399938744, 0.14120976599951973, 0.14115713499995763, 0.14197748599963234, 0.14472966999983328, 0.1412890880001214, 0.1433048629996847, 0.14240186699953483, 0.14457684999979392, 0.1412556429995675, 0.14298380999935034, 0.14003039399995032, 0.14115876500000013, 0.1427051049995498, 0.18597205099922576, 0.13912947100016027, 0.14168893699934415, 0.1414478329998019, 0.1459847340001943, 0.14912331300001824, 0.1433772600003067, 0.14371534599922597, 0.14014396600032342, 0.14256803399985074],
    8: [0.28167193999979645, 0.24225834099979693, 0.24068823000015982, 0.25655984900004114, 0.23846397700071975, 0.28853513400008524, 0.24319655999988754, 0.24862735400074598, 0.2374656160000086, 0.23596436400021048, 0.2372964950000096, 0.2853111740005261, 0.24488499499966565, 0.2368492450004851, 0.24409153600026912, 0.24739545100055693, 0.2396476240000993, 0.28192937599942525, 0.2383525629993528, 0.2565418639997006, 0.27967625400015095, 0.24199944000065443, 0.24363779600025737, 0.2358584769999652, 0.24260823699933098, 0.23856348500066815],
    10: [0.3629837280004722, 0.4245574360002138, 0.4063417629995456, 0.371082233999914, 0.3617917919991669, 0.40965997200055426, 0.37704355500045494, 0.3653334470000118, 0.4425146499997936, 0.39994214800026384, 0.36167559800014715, 0.3637547630005429, 0.4124811480005519, 0.36358817299969814, 0.3707373960005498, 0.3645362050001495, 0.40698439800053166, 0.3700792600002387, 0.3653279459995247, 0.3622192399998312, 0.36447256400060724, 0.3685369479999281, 0.36213794899958884, 0.4623596550000002, 0.3672180900002786, 0.3637264939998204],
    12: [0.5792109280000659, 0.5255046459997175, 0.5333109740004147, 0.6130206010002439, 0.5409149979996073, 0.5995141780003905, 0.5488916729991615, 0.5311306130006415, 1.7787524489995121, 0.5891851699998369, 0.6462121090007713, 0.5393068159992254, 0.5255847250000443, 0.5732296999995015, 0.5335319349997008, 2.492860534999636, 0.5306587000004583, 0.5934821760001796, 0.5703791859996272, 0.5202102190005462, 0.5993722479997814, 0.5519694079994224, 0.5272064119999413, 0.5692748459996437, 0.6275316629998997, 0.5848821390000012],
    14: [1.19082142499974, 0.8116334110000025, 0.7475215649992606, 0.7607352369996079, 0.8709542540000257, 0.7129488020000281, 0.7198361829996429, 0.804984307000268, 0.7759026439998706, 0.7014174020005157, 0.7654267839998283, 0.7058929949998856, 0.7678108229993086, 0.7094830900005036, 0.7127237520007839, 0.7790235009997559, 0.7218087820001529, 0.7710069289996682, 0.7172064030000911, 0.7714596440000605, 0.7158880589995533, 0.765629405999789, 0.8561024460004774, 0.7236294459999044, 4.100110095000673, 0.7042461050004931]
}

time_tw = {
    4: [0.11016300799929013, 0.10253686899886816, 0.1009043539997947, 0.102021351998701, 0.10193328099921928, 0.10198505100015609, 0.1085022850002133, 0.10160558999996283, 0.10162843899888685, 0.10056186499969044, 0.10105624700008775, 0.1007095400000253, 0.10178301199994166, 0.10115359600058582, 0.10202529900016089, 0.10223294400020677, 0.10048190599991358, 0.1012364059988613, 0.1016157120011485, 0.10202104800009693, 0.10041693300081533, 0.10183336599948234, 0.10334391299875278, 0.10394341299979715, 0.10190366100141546, 0.10034524199909356],
    6: [0.23068461200091406, 0.18383131799964758, 0.18439334600043367, 0.1833000879996689, 0.18281466299958993, 0.18235887799892225, 0.18493690800096374, 0.1847479209991434, 0.185031995000827, 0.18382136699983675, 0.18423147600151424, 0.18478058199980296, 0.18310247699992033, 0.1852880650003499, 0.18335770399971807, 0.2276559450001514, 0.1854356280000502, 0.1834919170014473, 0.18363764900095703, 0.1847890520002693, 0.1830687619985838, 0.18331905199920584, 0.22948127900053805, 0.18440533300054085, 0.1821731500003807, 0.18348322400015604],
    8: [0.29793956899993645, 0.2957144359988888, 0.34168767199844297, 0.2976221670014638, 0.29619166999873414, 0.2967772359988885, 0.3446160299990879, 0.29513785500057566, 0.29685301999961666, 0.2950609400013491, 0.30323210999995354, 0.3391409300002124, 0.29612358899976243, 0.2951439609987574, 0.3459933539998019, 0.34534707900093053, 0.30695141600153875, 0.29774353700122447, 0.2952787750000425, 0.2997159879996616, 0.30237531300008413, 0.3152631820012175, 0.4750398430005589, 0.31105656399995496, 0.34151265600121405, 0.29619410800114565],
    10: [0.44471426800009795, 0.5021547849992203, 0.45501528500062705, 0.44573271900117106, 0.5054258460004348, 0.4429232750007941, 0.4533588009999221, 0.8532399819996499, 0.4416329149989906, 0.45549383599973226, 0.48808256899974367, 0.441265272000237, 0.4538324619988998, 0.49008105999928375, 0.45117602700156567, 0.44267957900046895, 0.5525541440001689, 0.4442662269993889, 0.45421488899955875, 0.4498089289991185, 0.4444579659993906, 0.5116673080010514, 0.5057055919987761, 1.0023764080015098, 0.4972526649999054, 0.4471518440004729],
    12: [0.6268821540015779, 0.6189736710002762, 0.6375314309989335, 0.6248110830001679, 0.6443802859994321, 0.6177250149994507, 0.7668373139986215, 0.63630622600067, 0.6296471410005324, 0.6180692300004011, 0.6191250649990252, 0.6230472099996405, 0.6176225040017016, 0.6631472870012658, 0.6231454490007309, 0.6186546629996883, 0.6215583900011552, 0.8636694130000251, 0.650790102999963, 0.6536782369985303, 0.6199396089996299, 0.6183785799985344, 0.6510437529996125, 0.6797778639993339, 0.70170964999852, 0.7443913539991627],
    14: [3.2393103209997207, 5.097611537001285, 1.3812992899984238, 0.965578892000849, 0.9945232979989669, 0.8659485459993448, 1.297566351999194, 1.6139985119989433, 0.8588979539999855, 0.8846364420005557, 18.02390539099906, 0.833075688999088, 0.8963348680008494, 0.9076697670006979, 0.8356228379998356, 0.8962817699994048, 0.9078936779987998, 0.8505937770005403, 0.9059079960006784, 0.8885298350014637, 0.8389599330002966, 0.9097906349998084, 1.8631209609993675, 0.9106029649992706, 2.476192797999829, 0.8811316160008573]
}

time_st = {
    4: [0.11059210500025074, 0.102335141000367, 0.10909571599950141, 0.10318874899894581, 0.1025040029999218, 0.10256608899908315, 0.10156908899989503, 0.103370068998629, 0.10270643399962864, 0.10495637399981206],
    6: [0.18596447799973248, 0.18799845300054585, 0.18879045200083056, 0.18509411599916348, 0.19316280400016694, 0.1846530469993013, 0.18490000300153042, 0.18644648500048788, 0.18367548499918485, 0.18628453199926298],
    8: [0.3009537119996821, 0.3030095899994194, 0.3521726740000304, 0.31100046500068856, 0.30454952899890486, 0.3021306850005203, 0.29887677099941357, 0.30273722499987343, 0.30054881700016267, 0.30070351799986383],
    10: [0.5024600819997431, 0.4558472429998801, 0.4510454339997523, 0.5182859100004862, 0.4519607679994806, 0.45463092399950256, 0.4970004200004041, 0.45109417800085794, 0.5555945289997908, 0.4970196340000257],
    12: [0.6288748730003135, 0.7409934349998366, 1.6030079880001722, 0.6904416109991871, 0.6251222930004587, 0.6975674959994649, 0.6737735650003742, 0.6791821169990726, 0.6281169840003713, 0.6786228769997251],
    14: [0.8421631469991553, 0.8744802620003611, 0.9122696820013516, 2.59402627199961, 48.428340558000855, 1.005912824999541, 0.9106751529998292, 0.8890099749987712, 1.0196815419985796, 0.9036771190003492]
}

node_count = [4, 6, 8, 10, 12, 14]

op_count = [x - 0.6 for x in node_count]
op_times = [np.mean(time_op[x]) for x in node_count]
op_errs = [np.std(time_op[x]) for x in node_count]

tw_times = [np.mean(time_tw[x]) for x in node_count]
tw_errs = [np.std(time_tw[x]) for x in node_count]
tw_count = [x for x in node_count]

st_times = [np.mean(time_st[x]) for x in node_count]
st_errs = [np.std(time_st[x]) for x in node_count]
st_count = [x + 0.6 for x in node_count]


op_bars = plt.bar(op_count, op_times, 0.6, yerr=op_errs, label='OP')
tw_bars = plt.bar(tw_count, tw_times, 0.6, yerr=tw_errs, label='OP w/ TW')
st_bars = plt.bar(st_count, st_times, 0.6, yerr=st_errs, label='OP w/ TW and ST')
plt.title('Solution times with sufficient budget (all nodes visited)')
plt.xlabel('Number of POIs')
plt.ylabel('Solve time (s)')
plt.legend(handles=[op_bars, tw_bars, st_bars])
plt.ylim(0, 8)
plt.show()
